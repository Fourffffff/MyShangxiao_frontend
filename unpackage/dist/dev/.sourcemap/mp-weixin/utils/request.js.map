{"version":3,"file":"request.js","sources":["utils/request.js"],"sourcesContent":["const baseurl=\"http://localhost:8000\"\r\nexport function request(config={}){\r\n\tlet {\r\n\t\turl,\r\n\t\tmethod='GET',\r\n\t\tdata,\r\n\t\theader = {\r\n\t\t\t\t\t\"Content-Type\": \"application/json\"  // 默认 JSON 请求头\r\n\t\t\t\t}\r\n\t} = config\r\n\turl=baseurl+url\r\n\treturn new Promise((resolve,reject)=>{\r\n\t\tuni.request({\r\n\t\t\turl,\r\n\t\t\tdata,\r\n\t\t\theader,\r\n\t\t\tmethod,\r\n\t\t\tsuccess:res=>{\r\n\t\t\t\tif(res.data.code==200){\r\n\t\t\t\t\tresolve(res.data)\r\n\t\t\t\t}else if(res.data.code===400){\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle:'错误提示',\r\n\t\t\t\t\t\tcontent:res.data.msg\r\n\t\t\t\t\t})\r\n\t\t\t\t\treject(res.data)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:res.data.errMsg,\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treject(res.data)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfail:err=>{\r\n\t\t\t\treject(err)\r\n\t\t\t}\r\n\t\t})\r\n\t\t\r\n\t})\r\n}"],"names":["uni"],"mappings":";;AAAA,MAAM,UAAQ;AACP,SAAS,QAAQ,SAAO,IAAG;AACjC,MAAI;AAAA,IACH;AAAA,IACA,SAAO;AAAA,IACP;AAAA,IACA,SAAS;AAAA,MACN,gBAAgB;AAAA;AAAA,IAChB;AAAA,EACL,IAAK;AACJ,QAAI,UAAQ;AACZ,SAAO,IAAI,QAAQ,CAAC,SAAQ,WAAS;AACpCA,kBAAAA,MAAI,QAAQ;AAAA,MACX;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA,SAAQ,SAAK;AACZ,YAAG,IAAI,KAAK,QAAM,KAAI;AACrB,kBAAQ,IAAI,IAAI;AAAA,QAChB,WAAQ,IAAI,KAAK,SAAO,KAAI;AAC5BA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAM;AAAA,YACN,SAAQ,IAAI,KAAK;AAAA,UACvB,CAAM;AACD,iBAAO,IAAI,IAAI;AAAA,QACpB,OAAS;AACJA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAM,IAAI,KAAK;AAAA,YACf,MAAK;AAAA,UACX,CAAM;AACD,iBAAO,IAAI,IAAI;AAAA,QACf;AAAA,MACD;AAAA,MACD,MAAK,SAAK;AACT,eAAO,GAAG;AAAA,MACV;AAAA,IACJ,CAAG;AAAA,EAEH,CAAE;AACF;;"}